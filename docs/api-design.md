# API è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã¯ã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ API ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆè¨­è¨ˆã‚’èª¬æ˜ã—ã¾ã™ã€‚

## ãƒ™ãƒ¼ã‚¹ URL

- ãƒ­ãƒ¼ã‚«ãƒ«: `http://localhost:8080`
- æœ¬ç•ªç’°å¢ƒ: `https://your-backend-url.railway.app`

## å…±é€šä»•æ§˜

### ãƒ¬ã‚¹ãƒãƒ³ã‚¹å½¢å¼

ã™ã¹ã¦ã® API ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¯ JSON å½¢å¼ã§ã™ã€‚

**æˆåŠŸæ™‚**:

```json
{
  "data": {...},
  "message": "Success"
}
```

**ã‚¨ãƒ©ãƒ¼æ™‚**:

```json
{
  "error": "Error message",
  "code": "ERROR_CODE"
}
```

### HTTP ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰

- `200 OK`: æˆåŠŸ
- `201 Created`: ãƒªã‚½ãƒ¼ã‚¹ä½œæˆæˆåŠŸ
- `400 Bad Request`: ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒä¸æ­£
- `401 Unauthorized`: èªè¨¼ãŒå¿…è¦
- `403 Forbidden`: ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãªã—
- `404 Not Found`: ãƒªã‚½ãƒ¼ã‚¹ãŒè¦‹ã¤ã‹ã‚‰ãªã„
- `500 Internal Server Error`: ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼

### èªè¨¼

JWTï¼ˆJSON Web Tokenï¼‰ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

**ãƒ˜ãƒƒãƒ€ãƒ¼**:

```
Authorization: Bearer <token>
```

---

## ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä¸€è¦§

### èªè¨¼

#### ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²

**POST** `/api/auth/register`

æ–°ã—ã„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**:

```json
{
  "email": "user@example.com",
  "password": "securePassword123",
  "username": "username"
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (201 Created):

```json
{
  "data": {
    "user": {
      "id": "uuid",
      "email": "user@example.com",
      "username": "username",
      "created_at": "2024-01-01T00:00:00Z"
    },
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
  },
  "message": "User registered successfully"
}
```

**ã‚¨ãƒ©ãƒ¼**:

- `400`: ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒæ—¢ã«ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹
- `400`: ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ï¼ˆãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒçŸ­ã„ç­‰ï¼‰

---

#### ãƒ­ã‚°ã‚¤ãƒ³

**POST** `/api/auth/login`

ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ãƒ­ã‚°ã‚¤ãƒ³ã•ã›ã€JWT ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç™ºè¡Œã—ã¾ã™ã€‚

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**:

```json
{
  "email": "user@example.com",
  "password": "securePassword123"
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200 OK):

```json
{
  "data": {
    "user": {
      "id": "uuid",
      "email": "user@example.com",
      "username": "username"
    },
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
  },
  "message": "Login successful"
}
```

**ã‚¨ãƒ©ãƒ¼**:

- `401`: ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¾ãŸã¯ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒé–“é•ã£ã¦ã„ã‚‹

---

### æ¼«ç”»

#### æ¼«ç”»ä¸€è¦§å–å¾—

**GET** `/api/manga`

æ¼«ç”»ã®ä¸€è¦§ã‚’å–å¾—ã—ã¾ã™ã€‚æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã«å¯¾å¿œã€‚

**ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:

- `title` (optional): ã‚¿ã‚¤ãƒˆãƒ«ã§æ¤œç´¢
- `genre` (optional): ã‚¸ãƒ£ãƒ³ãƒ«ã§ãƒ•ã‚£ãƒ«ã‚¿
- `page` (optional): ãƒšãƒ¼ã‚¸ç•ªå·ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 1ï¼‰
- `limit` (optional): 1 ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®ä»¶æ•°ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 20ï¼‰

**ä¾‹**:

```
GET /api/manga?title=ãƒ¯ãƒ³ãƒ”ãƒ¼ã‚¹&genre=å†’é™º&page=1&limit=10
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200 OK):

```json
{
  "data": {
    "manga": [
      {
        "id": "uuid",
        "title": "ãƒ¯ãƒ³ãƒ”ãƒ¼ã‚¹",
        "author": "å°¾ç”°æ „ä¸€éƒ",
        "description": "æµ·è³Šç‹ã‚’ç›®æŒ‡ã™å°‘å¹´ã®ç‰©èª",
        "cover_image": "https://example.com/image.jpg",
        "genre": ["å†’é™º", "ã‚¢ã‚¯ã‚·ãƒ§ãƒ³"],
        "created_at": "2024-01-01T00:00:00Z",
        "updated_at": "2024-01-01T00:00:00Z"
      }
    ],
    "pagination": {
      "page": 1,
      "limit": 10,
      "total": 100,
      "total_pages": 10
    }
  },
  "message": "Success"
}
```

---

#### æ¼«ç”»è©³ç´°å–å¾—

**GET** `/api/manga/:id`

æŒ‡å®šã—ãŸæ¼«ç”»ã®è©³ç´°æƒ…å ±ã‚’å–å¾—ã—ã¾ã™ã€‚

**ãƒ‘ã‚¹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:

- `id`: æ¼«ç”»ã® UUID

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200 OK):

```json
{
  "data": {
    "id": "uuid",
    "title": "ãƒ¯ãƒ³ãƒ”ãƒ¼ã‚¹",
    "author": "å°¾ç”°æ „ä¸€éƒ",
    "description": "æµ·è³Šç‹ã‚’ç›®æŒ‡ã™å°‘å¹´ã®ç‰©èª",
    "cover_image": "https://example.com/image.jpg",
    "genre": ["å†’é™º", "ã‚¢ã‚¯ã‚·ãƒ§ãƒ³"],
    "average_rating": 4.5,
    "review_count": 1234,
    "created_at": "2024-01-01T00:00:00Z",
    "updated_at": "2024-01-01T00:00:00Z"
  },
  "message": "Success"
}
```

**ã‚¨ãƒ©ãƒ¼**:

- `404`: æ¼«ç”»ãŒè¦‹ã¤ã‹ã‚‰ãªã„

---

### ãƒ¬ãƒ“ãƒ¥ãƒ¼

#### ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¸€è¦§å–å¾—

**GET** `/api/manga/:id/reviews`

æŒ‡å®šã—ãŸæ¼«ç”»ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¸€è¦§ã‚’å–å¾—ã—ã¾ã™ã€‚

**ãƒ‘ã‚¹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:

- `id`: æ¼«ç”»ã® UUID

**ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:

- `page` (optional): ãƒšãƒ¼ã‚¸ç•ªå·ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 1ï¼‰
- `limit` (optional): 1 ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®ä»¶æ•°ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 10ï¼‰
- `sort` (optional): ã‚½ãƒ¼ãƒˆé †ï¼ˆ`latest` | `highest_rating`ï¼‰

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200 OK):

```json
{
  "data": {
    "reviews": [
      {
        "id": "uuid",
        "user_id": "uuid",
        "username": "user123",
        "manga_id": "uuid",
        "rating": 5,
        "comment": "ã¨ã¦ã‚‚é¢ç™½ã‹ã£ãŸã§ã™ï¼",
        "created_at": "2024-01-01T00:00:00Z",
        "updated_at": "2024-01-01T00:00:00Z"
      }
    ],
    "pagination": {
      "page": 1,
      "limit": 10,
      "total": 50
    }
  },
  "message": "Success"
}
```

---

#### ãƒ¬ãƒ“ãƒ¥ãƒ¼æŠ•ç¨¿

**POST** `/api/manga/:id/reviews`

ğŸ”’ **èªè¨¼ãŒå¿…è¦**

æŒ‡å®šã—ãŸæ¼«ç”»ã«ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’æŠ•ç¨¿ã—ã¾ã™ã€‚

**ãƒ‘ã‚¹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:

- `id`: æ¼«ç”»ã® UUID

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**:

```json
{
  "rating": 5,
  "comment": "ã¨ã¦ã‚‚é¢ç™½ã‹ã£ãŸã§ã™ï¼"
}
```

**ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**:

- `rating`: 1ã€œ5 ã®æ•´æ•°
- `comment`: 1ã€œ1000 æ–‡å­—

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (201 Created):

```json
{
  "data": {
    "id": "uuid",
    "user_id": "uuid",
    "manga_id": "uuid",
    "rating": 5,
    "comment": "ã¨ã¦ã‚‚é¢ç™½ã‹ã£ãŸã§ã™ï¼",
    "created_at": "2024-01-01T00:00:00Z"
  },
  "message": "Review posted successfully"
}
```

**ã‚¨ãƒ©ãƒ¼**:

- `400`: ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼
- `401`: èªè¨¼ãŒå¿…è¦
- `404`: æ¼«ç”»ãŒè¦‹ã¤ã‹ã‚‰ãªã„
- `409`: ã™ã§ã«ãƒ¬ãƒ“ãƒ¥ãƒ¼æ¸ˆã¿

---

### ãŠã™ã™ã‚

#### ãŠã™ã™ã‚æ¼«ç”»å–å¾—

**GET** `/api/recommendations`

ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ãŠã™ã™ã‚ã®æ¼«ç”»ã‚’å–å¾—ã—ã¾ã™ã€‚

**ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:

- `limit` (optional): å–å¾—ä»¶æ•°ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 10ï¼‰

**ãƒ˜ãƒƒãƒ€ãƒ¼**:

- `Authorization` (optional): ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã„ã‚‹å ´åˆã¯å€‹åˆ¥ã®ãŠã™ã™ã‚ã€æœªãƒ­ã‚°ã‚¤ãƒ³ã®å ´åˆã¯äººæ°—ã®æ¼«ç”»

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200 OK):

```json
{
  "data": {
    "recommendations": [
      {
        "id": "uuid",
        "title": "é¬¼æ»…ã®åˆƒ",
        "author": "å¾å³ å‘¼ä¸–æ™´",
        "description": "...",
        "cover_image": "https://example.com/image.jpg",
        "genre": ["ã‚¢ã‚¯ã‚·ãƒ§ãƒ³", "ãƒ•ã‚¡ãƒ³ã‚¿ã‚¸ãƒ¼"],
        "reason": "ã‚ãªãŸãŒå¥½ããªã‚¢ã‚¯ã‚·ãƒ§ãƒ³æ¼«ç”»ã¨ä¼¼ã¦ã„ã¾ã™",
        "average_rating": 4.8
      }
    ]
  },
  "message": "Success"
}
```

---

### ãƒ¦ãƒ¼ã‚¶ãƒ¼

#### èª­æ›¸ãƒªã‚¹ãƒˆå–å¾—

**GET** `/api/user/reading-list`

ğŸ”’ **èªè¨¼ãŒå¿…è¦**

ãƒ­ã‚°ã‚¤ãƒ³ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®èª­æ›¸ãƒªã‚¹ãƒˆã‚’å–å¾—ã—ã¾ã™ã€‚

**ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:

- `status` (optional): ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã§ãƒ•ã‚£ãƒ«ã‚¿ï¼ˆ`reading` | `completed` | `plan_to_read`ï¼‰

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200 OK):

```json
{
  "data": {
    "reading_list": [
      {
        "id": "uuid",
        "manga": {
          "id": "uuid",
          "title": "ãƒ¯ãƒ³ãƒ”ãƒ¼ã‚¹",
          "author": "å°¾ç”°æ „ä¸€éƒ",
          "cover_image": "https://example.com/image.jpg"
        },
        "status": "reading",
        "created_at": "2024-01-01T00:00:00Z",
        "updated_at": "2024-01-01T00:00:00Z"
      }
    ]
  },
  "message": "Success"
}
```

**ã‚¨ãƒ©ãƒ¼**:

- `401`: èªè¨¼ãŒå¿…è¦

---

#### èª­æ›¸ãƒªã‚¹ãƒˆã«è¿½åŠ 

**POST** `/api/user/reading-list`

ğŸ”’ **èªè¨¼ãŒå¿…è¦**

èª­æ›¸ãƒªã‚¹ãƒˆã«æ¼«ç”»ã‚’è¿½åŠ ã—ã¾ã™ã€‚

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**:

```json
{
  "manga_id": "uuid",
  "status": "reading"
}
```

**status**:

- `reading`: èª­ã‚“ã§ã„ã‚‹
- `completed`: èª­ã¿çµ‚ã‚ã£ãŸ
- `plan_to_read`: èª­ã‚€äºˆå®š

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (201 Created):

```json
{
  "data": {
    "id": "uuid",
    "manga_id": "uuid",
    "status": "reading",
    "created_at": "2024-01-01T00:00:00Z"
  },
  "message": "Added to reading list"
}
```

**ã‚¨ãƒ©ãƒ¼**:

- `400`: ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼
- `401`: èªè¨¼ãŒå¿…è¦
- `404`: æ¼«ç”»ãŒè¦‹ã¤ã‹ã‚‰ãªã„
- `409`: ã™ã§ã«èª­æ›¸ãƒªã‚¹ãƒˆã«è¿½åŠ æ¸ˆã¿

---

#### èª­æ›¸ãƒªã‚¹ãƒˆæ›´æ–°

**PUT** `/api/user/reading-list/:id`

ğŸ”’ **èªè¨¼ãŒå¿…è¦**

èª­æ›¸ãƒªã‚¹ãƒˆã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’æ›´æ–°ã—ã¾ã™ã€‚

**ãƒ‘ã‚¹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:

- `id`: èª­æ›¸ãƒªã‚¹ãƒˆã‚¢ã‚¤ãƒ†ãƒ ã® UUID

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**:

```json
{
  "status": "completed"
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200 OK):

```json
{
  "data": {
    "id": "uuid",
    "manga_id": "uuid",
    "status": "completed",
    "updated_at": "2024-01-01T00:00:00Z"
  },
  "message": "Reading list updated"
}
```

---

#### èª­æ›¸ãƒªã‚¹ãƒˆã‹ã‚‰å‰Šé™¤

**DELETE** `/api/user/reading-list/:id`

ğŸ”’ **èªè¨¼ãŒå¿…è¦**

èª­æ›¸ãƒªã‚¹ãƒˆã‹ã‚‰æ¼«ç”»ã‚’å‰Šé™¤ã—ã¾ã™ã€‚

**ãƒ‘ã‚¹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:

- `id`: èª­æ›¸ãƒªã‚¹ãƒˆã‚¢ã‚¤ãƒ†ãƒ ã® UUID

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200 OK):

```json
{
  "message": "Removed from reading list"
}
```

---

### ãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆ

#### ãƒãƒ£ãƒƒãƒˆ

**POST** `/api/chat`

OpenAI API ã‚’ä½¿ç”¨ã—ã¦ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ¡ä»¶ã«åˆã£ãŸæ¼«ç”»ã‚’ææ¡ˆã—ã¾ã™ã€‚

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**:

```json
{
  "message": "å†’é™ºç³»ã§ãƒ¯ã‚¯ãƒ¯ã‚¯ã™ã‚‹æ¼«ç”»ã‚’æ•™ãˆã¦"
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200 OK):

```json
{
  "data": {
    "reply": "å†’é™ºç³»ã§ãƒ¯ã‚¯ãƒ¯ã‚¯ã™ã‚‹æ¼«ç”»ãªã‚‰ã€ä»¥ä¸‹ãŒãŠã™ã™ã‚ã§ã™ï¼š\n\n1. ãƒ¯ãƒ³ãƒ”ãƒ¼ã‚¹ - æµ·è³Šç‹ã‚’ç›®æŒ‡ã™å£®å¤§ãªå†’é™º\n2. ãƒãƒ³ã‚¿ãƒ¼ãƒãƒ³ã‚¿ãƒ¼ - è¬ã«æº€ã¡ãŸå†’é™ºã¨æˆ¦é—˜",
    "suggested_manga": [
      {
        "id": "uuid",
        "title": "ãƒ¯ãƒ³ãƒ”ãƒ¼ã‚¹",
        "author": "å°¾ç”°æ „ä¸€éƒ",
        "cover_image": "https://example.com/image.jpg",
        "reason": "æµ·è³Šç‹ã‚’ç›®æŒ‡ã™å£®å¤§ãªå†’é™ºãŒæ¥½ã—ã‚ã¾ã™"
      }
    ]
  },
  "message": "Success"
}
```

**ã‚¨ãƒ©ãƒ¼**:

- `400`: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒç©º
- `500`: OpenAI API ã‚¨ãƒ©ãƒ¼

---

## ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯

#### ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯

**GET** `/health`

ã‚µãƒ¼ãƒãƒ¼ã®ç¨¼åƒçŠ¶æ³ã‚’ç¢ºèªã—ã¾ã™ã€‚

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200 OK):

```json
{
  "status": "ok",
  "timestamp": "2024-01-01T00:00:00Z"
}
```

---

## ãƒ¬ãƒ¼ãƒˆåˆ¶é™

API ã«ã¯ä»¥ä¸‹ã®ãƒ¬ãƒ¼ãƒˆåˆ¶é™ãŒã‚ã‚Šã¾ã™ï¼š

- **èªè¨¼ãªã—**: 100 ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/æ™‚é–“
- **èªè¨¼ã‚ã‚Š**: 1000 ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/æ™‚é–“

ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚’è¶…ãˆãŸå ´åˆï¼š

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (429 Too Many Requests):

```json
{
  "error": "Rate limit exceeded",
  "retry_after": 3600
}
```

---

## ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰

| ã‚³ãƒ¼ãƒ‰                | èª¬æ˜                             |
| --------------------- | -------------------------------- |
| `VALIDATION_ERROR`    | ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ |
| `UNAUTHORIZED`        | èªè¨¼ãŒå¿…è¦                       |
| `FORBIDDEN`           | ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãªã—                 |
| `NOT_FOUND`           | ãƒªã‚½ãƒ¼ã‚¹ãŒè¦‹ã¤ã‹ã‚‰ãªã„           |
| `CONFLICT`            | ãƒªã‚½ãƒ¼ã‚¹ã®ç«¶åˆï¼ˆæ—¢ã«å­˜åœ¨ã™ã‚‹ç­‰ï¼‰ |
| `INTERNAL_ERROR`      | ã‚µãƒ¼ãƒãƒ¼å†…éƒ¨ã‚¨ãƒ©ãƒ¼               |
| `RATE_LIMIT_EXCEEDED` | ãƒ¬ãƒ¼ãƒˆåˆ¶é™è¶…é                   |

---

## å®Ÿè£…æ™‚ã®æ³¨æ„äº‹é …

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

1. **ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰**

   - bcrypt ã§ãƒãƒƒã‚·ãƒ¥åŒ–ï¼ˆã‚³ã‚¹ãƒˆ: 10 ä»¥ä¸Šï¼‰
   - å¹³æ–‡ã§ä¿å­˜ã—ãªã„

2. **JWT**

   - æœ‰åŠ¹æœŸé™ã‚’è¨­å®šï¼ˆ24 æ™‚é–“æ¨å¥¨ï¼‰
   - ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚­ãƒ¼ã¯å¼·åŠ›ãªã‚‚ã®ã‚’ä½¿ç”¨

3. **å…¥åŠ›æ¤œè¨¼**
   - ã™ã¹ã¦ã®å…¥åŠ›ã‚’ã‚µãƒ¼ãƒãƒ¼å´ã§æ¤œè¨¼
   - SQL ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³å¯¾ç­–ï¼ˆãƒ—ãƒªãƒšã‚¢ãƒ‰ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆï¼‰
   - XSS å¯¾ç­–ï¼ˆã‚¨ã‚¹ã‚±ãƒ¼ãƒ—å‡¦ç†ï¼‰

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

1. **ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³**

   - å¤§é‡ã®ãƒ‡ãƒ¼ã‚¿ã¯åˆ†å‰²ã—ã¦å–å¾—

2. **ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹**

   - æ¤œç´¢ã«ä½¿ã†ã‚«ãƒ©ãƒ ã«ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’è¨­å®š

3. **N+1 å•é¡Œ**
   - JOIN ã‚’ä½¿ã£ã¦ä¸€åº¦ã«ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—

---

ã“ã® API ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯å®Ÿè£…ã«åˆã‚ã›ã¦æ›´æ–°ã—ã¦ãã ã•ã„ã€‚
